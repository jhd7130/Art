<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Manager"><!-- namespace - 클래스명과 동일 -->
	<!-- id - 메소드명과 동일 -->
	<!-- resultType : row 1줄의 형태를 지정 -->
	<!-- 쿼리 작성 시 ;이 들어가면 실행되지 않음 -->
	<select id="getMList" resultType="hashmap" parameterType="hashmap">
		SELECT * 
		FROM (  SELECT ROW_NUMBER() OVER (ORDER BY USER_NO DESC) AS RNUM, 
		        USER_NO, USER_ID, USER_NICKNAME, PW, NAME,
		        SEX,TO_CHAR(BIRTHDAY) AS BIRTHDAY, PHONE_NO,MAIL,TO_CHAR(JOIN_DATE) AS JOIN_DATE,
		        TRUNC(MONTHS_BETWEEN(TRUNC(SYSDATE),BIRTHDAY) / 12) as old
		        FROM USERS
		        WHERE 1=1)
		WHERE RNUM BETWEEN 1 AND ${endCnt}
	</select>

	<select id="getTCnt" resultType="Integer" parameterType="hashmap">
		SELECT COUNT(*)AS CNT
		FROM USERS
		WHERE 1=1
	</select>
</mapper>